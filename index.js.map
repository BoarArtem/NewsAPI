{"version":3,"file":"index.js","sources":["../src/js/api.js","../src/main.js"],"sourcesContent":["import axios from \"axios\"\n\nconst url = \"https://newsapi.org/v2/everything\"\nconst api = \"7f2175b849ef4681bc58e348ea7100b8\"\n\nexport async function getNews(query) {\n    const params = {\n        apiKey: api,\n        q: query,\n        pageSize: 5,\n        language: \"ru\"\n    };\n\n    try {\n        const response = await axios.get(url, { params });\n        return response\n    } catch (error) {\n        console.error(\"Ошибка при получении данных от сервера\");\n        throw error;\n    } \n}\n\n\nexport function getAPIForDeveloper() {\n    const params = {\n        apiKey: api,\n        q: \"Bitcoin\",\n        pageSize: 5,\n        language: \"ru\"\n    };\n\n    return axios\n        .get(url, { params })\n        .then(response => {\n            return console.log(response);\n        })\n        .catch(err => {\n            console.log(err.message);\n            \n        })\n}","import { getNews, getAPIForDeveloper } from \"./js/api\";\n\nconst galleryContainer = document.querySelector(\".gallery\")\nconst form = document.querySelector(\".form\")\nconst input = document.querySelector(\".input-form\")\n\nfunction clearGallery() {\n    galleryContainer.innerHTML = \"\"\n}\n\nasync function renderNews() {\n    try {\n        form.addEventListener(\"submit\", async (event) => {\n            event.preventDefault()\n\n            const value = input.value.trim();\n            const response = await getNews(value)\n            const news = response.data.articles\n\n            clearGallery()\n            newsMarkup(news)\n            console.log(value);\n\n            if (value === \"\") {\n                console.log(\"Error\")\n            } else {\n                renderNews();\n            }\n\n\n        })\n    } catch (error) {\n        console.error(error.message);\n    } finally {\n        form.reset()\n    }\n}\n\nfunction newsMarkup(newsTitle) {\n    const markup = newsTitle\n        .map(({ title, description, publishedAt, url, source, urlToImage }) => {\n            return ` \n                <li class=\"gallery-item\">\n                    <img src=\"${urlToImage}\" class=\"gallery-img\">\n                    <h2 class=\"gallery-title\">${title}</h2>\n                    <p class=\"gallery-description\">${description}</p>\n                    <p class=\"gallery-publichedAt\">Опубликовано: ${publishedAt}</p>\n                    <a class=\"gallery-link\" href=\"${url}\">${source.name}</a>\n                </li>\n            `\n        })\n        .join(\"\")\n\n    galleryContainer.insertAdjacentHTML(\"beforeend\", markup)\n}\n\nrenderNews()"],"names":["url","api","getNews","query","params","axios","error","galleryContainer","form","input","clearGallery","renderNews","event","value","news","newsMarkup","newsTitle","markup","title","description","publishedAt","source","urlToImage"],"mappings":"svBAEA,MAAMA,EAAM,oCACNC,EAAM,mCAEL,eAAeC,EAAQC,EAAO,CACjC,MAAMC,EAAS,CACX,OAAQH,EACR,EAAGE,EACH,SAAU,EACV,SAAU,IAClB,EAEI,GAAI,CAEA,OADiB,MAAME,EAAM,IAAIL,EAAK,CAAE,OAAAI,EAAQ,CAEpD,OAASE,EAAO,CACZ,cAAQ,MAAM,wCAAwC,EAChDA,CACV,CACJ,CClBA,MAAMC,EAAmB,SAAS,cAAc,UAAU,EACpDC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,aAAa,EAElD,SAASC,GAAe,CACpBH,EAAiB,UAAY,EACjC,CAEA,eAAeI,GAAa,CACxB,GAAI,CACAH,EAAK,iBAAiB,SAAU,MAAOI,GAAU,CAC7CA,EAAM,eAAc,EAEpB,MAAMC,EAAQJ,EAAM,MAAM,KAAI,EAExBK,GADW,MAAMZ,EAAQW,CAAK,GACd,KAAK,SAE3BH,EAAY,EACZK,EAAWD,CAAI,EACf,QAAQ,IAAID,CAAK,EAEbA,IAAU,GACV,QAAQ,IAAI,OAAO,EAEnBF,EAAU,CAIlB,CAAC,CACL,OAASL,EAAO,CACZ,QAAQ,MAAMA,EAAM,OAAO,CAC/B,QAAC,CACGE,EAAK,MAAK,CACd,CACJ,CAEA,SAASO,EAAWC,EAAW,CAC3B,MAAMC,EAASD,EACV,IAAI,CAAC,CAAE,MAAAE,EAAO,YAAAC,EAAa,YAAAC,EAAa,IAAApB,EAAK,OAAAqB,EAAQ,WAAAC,KAC3C;AAAA;AAAA,gCAEaA,CAAU;AAAA,gDACMJ,CAAK;AAAA,qDACAC,CAAW;AAAA,mEACGC,CAAW;AAAA,oDAC1BpB,CAAG,KAAKqB,EAAO,IAAI;AAAA;AAAA,aAG9D,EACA,KAAK,EAAE,EAEZd,EAAiB,mBAAmB,YAAaU,CAAM,CAC3D,CAEAN,EAAU"}